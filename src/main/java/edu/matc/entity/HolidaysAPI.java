package edu.matc.entity;import org.json.JSONArray;import org.json.JSONObject;import javax.ws.rs.client.Client;import javax.ws.rs.client.ClientBuilder;import javax.ws.rs.client.WebTarget;import javax.ws.rs.core.MediaType;import java.util.*;/** * Created on 11/10/17 at 12:41 PM * * @author nfenev */public class HolidaysAPI {    private static final String COUNTRY = "US";    private static final String API_KEY_TEST = "524bea85-1423-4ee7-97af-3d3c968b3283";    private static final String API_KEY_LIVE = "87794f0b-197c-4e18-bc53-5d4b681af116";    public ArrayList<Holiday> holidaysUSMonthly() {        ArrayList<Holiday> listOfHolidays = new ArrayList<>();        Client client = ClientBuilder.newClient();        Calendar c = Calendar.getInstance();        String currentYear = String.valueOf(c.get(Calendar.YEAR));        String currentMonth = String.valueOf(c.get(Calendar.MONTH));        String apiURI = "https://holidayapi.com/v1/holidays?"                + "key=" + API_KEY_LIVE                + "&country=" + COUNTRY                + "&year=" + currentYear                + "&month=" + currentMonth;        WebTarget target = client.target(apiURI);        String response = target.request(MediaType.APPLICATION_JSON).get(String.class);        JSONObject obj = new JSONObject(response);        JSONArray arr = obj.getJSONArray("holidays");        for (int i = 0; i < arr.length(); i++) {            String name = arr.getJSONObject(i).getString("name");            String date = arr.getJSONObject(i).getString("date");            boolean national = arr.getJSONObject(i).getBoolean("public");            Holiday holiday = new Holiday();            holiday.setName(name);            holiday.setDate(date);            if (national) {                holiday.setNational("yes");            } else {                holiday.setNational("no");            }            listOfHolidays.add(holiday);        }        return listOfHolidays;    }}